<section>
    <div class="page-header">
        <ul class="nav nav-tabs">
            <li><a href="#/practice-management-general" ui-sref="practice-management-general">General</a></li>
            <li><a data-translate="practiceManagement.conditions" href="#/practice-management-conditions" ui-sref="practice-management-conditions">Conditions</a></li>
            <li><a data-translate="practiceManagement.thingsToWorkWith.title" href="#/practice-management-thingswork" ui-sref="practice-management-thingswork">Things to work with</a></li>
            <li class="active"><a data-translate="practiceManagement.thingsToDo.title">Things to do </a></li>
        </ul>
    </div>
    <jhi-alert></jhi-alert>
    <!-- Activity space-->
    <div class="row">
        <div class="col-md-12">
            <div class="well white">
            	<div class="form-group filled">
                    <label >Area of concern</label>
                    <select class="form-control" ng-options="datos.name for datos in vm.areasOfConcern track by datos.id" ng-model="vm.areaOfConcern">
                        <option style="display:none" value="" data-translate="entity.select.select">Select</option>
                    </select>
                </div>
                <div class="form-group filled" ng-show="vm.areaOfConcern != null">
                    <label data-translate="practiceManagement.thingsToDo.spaceActivity">Activity Space</label>
                    <select class="form-control" ng-options="datos.name for datos in vm.areaOfConcern.activitySpaces track by datos.id" ng-model="vm.activitySpace">
                        <option style="display:none" value="" data-translate="entity.select.select">Select</option>
                    </select>
                </div>
            </div>
        </div>
    </div>
    <!-- Activity-->
    <!-- <div class="row" ng-hide="!vm.activityInEdition.idActivitySpace"> -->
    <div class="row">
        <div class="col-md-12">
            <div class="well white">
                <div class="form-group">
                    <label class="control-label" data-translate="practiceManagement.thingsToDo.activityName">Activity Name</label>
                    <input type="text" class="form-control" name="name" ng-model="vm.activityInEdition.name" required>
                </div>
                <div class="form-group">
                    <label class="control-label" data-translate="practiceManagement.thingsToDo.briefDescription">Brief Description</label>
                    <textarea class="form-control" name="briefDescription" ng-model="vm.activityInEdition.briefDescription"></textarea>
                </div>
                <div class="form-group">
                    <label class="control-label" data-translate="practiceManagement.thingsToDo.description">Description</label>
                    <textarea ui-tinymce="vm.tinymceOptions" class="form-control" rows="10" name="description" ng-model="vm.activityInEdition.description"></textarea>
                </div>
                <div class="row">
                    <div class="col-xs-3 text-center m-t-60">
                        <div class="m-b-15">
                            <button type="button" class="btn btn-primary btn-sm col-xs-8"  data-toggle="collapse" data-target="#competency">Competency</button>
                            <button type="button" class="btn btn-sm btn-primary" data-toggle="modal" data-target="#competencyDialog" data-title="Create competency"><i class="fa fa-plus" aria-hidden="true"></i></button>
                        </div>
                        <div class="m-b-15">
                            <button type="button" class="btn btn-primary btn-sm col-xs-8"  data-toggle="collapse" data-target="#approach">Approach</button>
                            <button type="button" class="btn btn-sm btn-primary" data-toggle="modal" data-target="#approachDialog" data-title="Create approach"><i class="fa fa-plus" aria-hidden="true"></i></button>
                        </div>
                        <div class="m-b-15">
                            <button type="button" class="btn btn-primary btn-sm col-xs-8" data-toggle="collapse" data-target="#action">Action</button>
                            <button type="button" class="btn btn-sm btn-primary" data-toggle="modal" data-target="#actionDialog" data-title="Create action"><i class="fa fa-plus" aria-hidden="true"></i></button>
                        </div>
                        <div class="m-b-15">
                            <button type="button" class="btn btn-primary btn-sm col-xs-8"  data-toggle="collapse" data-target="#entrycriterio">Entry </button>
                            <button type="button" class="btn btn-sm btn-primary" data-toggle="modal" data-target="#entryDialog" data-title="Create entry"><i class="fa fa-plus" aria-hidden="true"></i></button>
                        </div>
                        <div class="m-b-15">
                            <button type="button" class="btn btn-primary btn-sm col-xs-8"  data-toggle="collapse" data-target="#completition">Completition</button>
                            <button type="button" class="btn btn-sm btn-primary" data-toggle="modal" data-target="#completitionDialog" data-title="Create completition"><i class="fa fa-plus" aria-hidden="true"></i></button>
                        </div>
                        <div>
                            <button type="button" class="btn btn-primary btn-sm col-xs-8" data-toggle="collapse" data-target="#resources">Resources</button>
                            <button type="button" class="btn btn-sm btn-primary" data-toggle="modal" data-target="#resourceDialog" data-title="Create Resource"><i class="fa fa-plus" aria-hidden="true"></i></button>
                        </div>
                    </div>
                    <div class="col-xs-9 m-t-20">
                        <div id="competency" class="collapse table-responsive white">
                            <table class="table table-full table-full-small white">
                                <h3 class=" text-center"> Competencies </h3>
                                <thead>
                                    <tr>
                                        <th data-translate="practiceManagement.thingsToDo.competency">Competency</th>
                                        <th data-translate="practiceManagement.thingsToDo.competencyLevel">Level Competency</th>
                                        <th data-translate="practiceManagement.remove">Delete</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="competency in vm.activityInEdition.competencies">
                                        <td>{{competency.competency}}</td>
                                        <td>{{competency.competencyLevel}}</td>
                                        <td><button class="btn btn-link btn-round" ng-click="vm.deleteCompetency($index)"><i class="md md-delete"></i></button></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div id="approach" class="collapse table-responsive white m-t-10">
                            <table class="table table-full table-full-small white">
                                <thead>
                                     <h3 class=" text-center"> Approaches </h3>
                                    <tr>
                                        <th data-translate="practiceManagement.thingsToDo.name">Name</th>
                                        <th data-translate="practiceManagement.description">Description</th>
                                        <th data-translate="practiceManagement.remove">Delete</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="approach in vm.activityInEdition.approaches">
                                        <td>{{approach.name}}</td>
                                        <td><div ng-bind-html="approach.description"></div></td>
                                        <td><button class="btn btn-link btn-round" ng-click="vm.deleteApproach($index)"><i class="md md-delete"></i></button></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div id="action" class="collapse table-responsive white m-t-10">
                            <table class="table table-full table-full-small white">
                                <thead>
                                    <h3 class=" text-center">Actions</h3>
                                    <tr>
                                        <th data-translate="practiceManagement.thingsToDo.actionKind">Action Kind</th>
                                        <th >Alpha-State / Workproduct-Level of detail</th>
                                        <th data-translate="practiceManagement.remove">Delete</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat-start="alphaState in vm.activityInEdition.actions">
                                        <td>{{alphaState.idActionKind}}</td>
                                        <td>
                                            <ul>
                                                <li ng-repeat="alphaOrWorkproduct in alphaState.alphaStates">
                                                    {{alphaOrWorkproduct.description}}
                                                </li>
                                            </ul>
                                            <ul>
                                                <li ng-repeat="alphaOrWorkproduct in alphaState.workProductsLevelofDetail">
                                                    {{alphaOrWorkproduct.description}}
                                                </li>
                                            </ul>
                                        </td>
                                        <td><button class="btn btn-link btn-round" ng-click="vm.deleteAction($index, 'alpha')"><i class="md md-delete"></i></button></td>
                                    </tr>
                                    <tr ng-repeat-end></tr>
                                </tbody>
                            </table>
                        </div>
                        <div id="entrycriterio" class="collapse table-responsive white m-t-10">
                            <table class="table table-full table-full-small white">
                                <thead>
                                    <h3 class=" text-center">Entries </h3>
                                    <tr>
                                        <th>Alpha-State / Workproduct-Level of detail / Other criterion</th>
                                        <th data-translate="practiceManagement.remove">Delete</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="alphaState in vm.activityInEdition.entryCriterion.alphaStates">
                                        <td>{{alphaState.description}}</td>
                                        <td><button class="btn btn-link btn-round" ng-click="vm.deleteEntry($index, 'alpha')"><i class="md md-delete"></i></button></td>
                                    </tr>
                                    <tr ng-repeat="workProductLevelofDetail in vm.activityInEdition.entryCriterion.workProductsLevelofDetail">
                                        <td>{{workProductLevelofDetail.description}}</td>
                                        <td><button class="btn btn-link btn-round" ng-click="vm.deleteEntry($index, 'workproduct')"><i class="md md-delete"></i></button></td>
                                    </tr>
                                    <tr ng-repeat="otherConditions in vm.activityInEdition.entryCriterion.otherConditions track by $index">
                                        <td>{{otherConditions}}</td>
                                        <td><button class="btn btn-link btn-round" ng-click="vm.deleteEntry($index, 'other')"><i class="md md-delete"></i></button></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div id="completition" class="collapse table-responsive white m-t-10">
                            <table class="table table-full table-full-small white">
                                <thead>
                                    <h3 class=" text-center">Completion </h3>
                                    <tr>
                                        <th>Alpha-State / Workproduct-Level of detail / Other criterion</th>
                                        <th data-translate="practiceManagement.remove">Delete</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="alphaState in vm.activityInEdition.completitionCriterion.alphaStates">
                                        <td>{{alphaState.description}}</td>
                                        <td><button class="btn btn-link btn-round" ng-click="vm.deleteCompletition($index, 'alpha')"><i class="md md-delete"></i></button></td>
                                    </tr>
                                    <tr ng-repeat="workProductLevelofDetail in vm.activityInEdition.completitionCriterion.workProductsLevelofDetail">
                                        <td>{{workProductLevelofDetail.description}}</td>
                                        <td><button class="btn btn-link btn-round" ng-click="vm.deleteCompletition($index, 'workproduct')"><i class="md md-delete"></i></button></td>
                                    </tr>
                                    <tr ng-repeat="otherConditions in vm.activityInEdition.completitionCriterion.otherConditions track by $index">
                                        <td>{{otherConditions}}</td>
                                        <td><button class="btn btn-link btn-round" ng-click="vm.deleteCompletition($index, 'other')"><i class="md md-delete"></i></button></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div id="resources" class="collapse table-responsive white m-t-10">
                            <table class="table table-full table-full-small white">
                                <thead>
                                    <h3 class=" text-center">Resources</h3>
                                    <tr>
                                        <th data-translate="practiceManagement.thingsToDo.content">Content</th>
                                        <th data-translate="practiceManagement.thingsToDo.type">Type</th>
                                        <th data-translate="practiceManagement.thingsToDo.attachment">Attachment</th>
                                        <th data-translate="practiceManagement.thingsToDo.size">Size</th>
                                        <th data-translate="practiceManagement.remove">Delete</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="resource in vm.activityInEdition.resources">
                                        <td><div ng-bind-html="resource.content"></div></td>
                                        <td>{{resource.idTypeResource}}</td>
                                        <td>
	                                        <div ng-if="resource.idTypeResource != 'URL'">
								            	<a ng-click="vm.openFile(resource.file, resource.idTypeResource)">
								            	{{resource.fileName}}</a>
								            </div>
								            <div ng-if="resource.idTypeResource == 'URL'">
								            	<a href="{{resource.fileName}}" target="_blank">
								            	{{resource.fileName}}</a>
								            </div>
                                        </td>
                                        <td>{{vm.byteSize(resource.idTypeResource)}}</td>
                                        <td><button class="btn btn-link btn-round" ng-click="vm.deleteResource()"><i class="md md-delete"></i></button></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="row m-t-20">
                    <div class="col-xs-3 col-xs-offset-9 form-group">
                        <button class="btn btn-default" type="button" ng-click="vm.clean()"><span data-translate="practiceManagement.clean">Clean</span></button>
                        <button class="btn btn-success" type="button" ng-click="vm.addActivity()"><span data-translate="practiceManagement.add">Add</span></button>
                    </div>
                </div>
            </div>
        </div>
    </div>


	<div class="row" ng-hide="!vm.practice.thingsToDo.activities.length">
		<div class="col-xs-1 col-xs-offset-11">
			<div class="actions">
				<button class="btn btn-primary btn-round btn-lg m-r-10 ng-scope"
					ng-click="vm.compositionActivities()"
					title="Composition" data-toggle="modal"
					data-target="#compositionActivitiesDialog">
					<div class="ripple-wrapper"></div>
					<i class="fa fa-area-chart"></i>
				</button>
			</div>
		</div>
		<div class="col-xs-12">
			<div class="well white">
				<div class="table-responsive white">
					<table class="table table-full table-full-small white">
						<thead>
							<tr>
								<th data-translate="practiceManagement.thingsToDo.spaceActivity">Activity Space</th>
								<th data-translate="practiceManagement.thingsToDo.activity">Activity</th>
								<th data-translate="practiceManagement.thingsToDo.briefDescription">Brief Description</th>
								<th data-translate="practiceManagement.remove">Delete</th>
								<th data-translate="practiceManagement.edit">Edit</th>
							</tr>
						</thead>
						<tbody>
							<tr
								ng-repeat="spaceActivity in vm.practice.thingsToDo.activities">
								<td>{{spaceActivity.nameActivitySpace}}</td>
								<td>{{spaceActivity.name}}</td>
								<td>{{spaceActivity.briefDescription}}</td>
								<td><button class="btn btn-link btn-round"
										ng-click="vm.deleteActivity($index)">
										<i class="md md-delete"></i>
									</button></td>
								<td><button class="btn btn-link btn-round"
										ng-click="vm.editActivity($index)">
										<i class="md md-edit"></i>
									</button></td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>


	<div class="row">
        <div class="pull-right m-r-15 m-b-30">
            <!-- <button type="button" class="btn btn-default m-t-10" ng-click="vm.clean()">
                <span>Clean</span>
            </button> -->
            <button type="submit" class="btn btn-primary m-t-10" ng-click="vm.save()">
                <span data-translate="entity.action.save">Save</span>
            </button>
        </div>
    </div>
</section>

<!-- MODALES -->

<div class="modal fade" id="competencyDialog" tabindex="-1" role="dialog"
     aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-header">
            <button type="button" class="close" ng-click="vm.cleanModales()" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title" data-translate="practiceManagement.thingsToDo.competency">Competency</h4>
        </div>
        <div class="modal-body">
            <div class="form-group filled">
                <label data-translate="practiceManagement.thingsToDo.competency">Competency</label>
                <select class="form-control" ng-options="datos.name for datos in vm.competencies track by datos.id" ng-model="vm.competency">
                    <option style="display:none" value="" data-translate="entity.select.select">Select</option>
                </select>
            </div>
            <div class="form-group filled" ng-hide="!vm.competency">
                <label data-translate="practiceManagement.thingsToDo.competencyLevel">Competency Level</label>
                <select class="form-control" ng-options="datos.level + '. '+ datos.name for datos in vm.competency.competencyLevel | filter:vm.competenciesFilter" ng-model="vm.competencyLevel">
                    <option style="display:none" value="" data-translate="entity.select.select">Select</option>
                </select>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-default" type="button" ng-click="vm.cleanModales()"><span data-translate="practiceManagement.clean">Clean</span></button>
            <button type="button" class="btn btn-primary" ng-click="vm.addCompetency()" data-translate="practiceManagement.add">Add</button>
        </div>
    </div>
</div>


<div class="modal fade" id="approachDialog" tabindex="-1" role="dialog"
     aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-header">
            <button type="button" class="close" ng-click="vm.cleanModales()" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title" data-translate="practiceManagement.thingsToDo.approach">Approach</h4>
        </div>
        <div class="modal-body">
            <div class="form-group">
                <label class="pull-left" data-translate="practiceManagement.thingsToDo.name">Name</label>
                <input type="text" class="form-control" ng-model="vm.nameApproach" required>
            </div>
            <div class="form-group">
                <label for="textArea" data-translate="practiceManagement.description" class="pull-left">Description</label>
                <textarea ui-tinymce="vm.tinymceOptions" class="form-control vertical" rows="3" ng-model="vm.descriptionApproach" required></textarea>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-default" type="button" ng-click="vm.cleanModales()"><span data-translate="practiceManagement.clean">Clean</span></button>
            <button type="button" class="btn btn-primary" ng-click="vm.addApproach()"><span data-translate="practiceManagement.add">Add</span></button>
        </div>
    </div>
</div>


<div class="modal fade" id="actionDialog" tabindex="-1" role="dialog"
     aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-header">
            <button type="button" class="close" ng-click="vm.cleanModales()" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title"><span data-translate="practiceManagement.thingsToDo.action">Action</span></h4>
        </div>
        <div class="modal-body">
            <div class="form-group filled">
                <label class="pull-left" data-translate="practiceManagement.thingsToDo.actionKind">Action Kind</label>
                <select class="form-control" ng-options="datos.id as datos.name for datos in vm.actionsKinds" ng-model="vm.actionInEdition.idActionKind">
                    <option style="display:none" value="" data-translate="entity.select.select">Select</option>
                </select>
            </div>
            <div class="form-group filled" ng-hide="vm.actionInEdition.workProductsLevelofDetail.length">
                <label class="pull-left">Alpha</label>
                <select class="form-control" ng-options="datos.name for datos in vm.alphas track by datos.id" ng-model="vm.alpha" ng-disabled="vm.workProduct != null">
                    <option style="display:none" value="" data-translate="entity.select.select">Select</option>
                </select>
            </div>
            <div class="form-group filled" ng-show="vm.alpha != null">
                <label>Alpha State</label>
                <select class="form-control" ng-options="datos.name for datos in vm.alpha.states  | filter:vm.alphaStateFilter track by datos.id" ng-model="vm.alphaState">
                    <option style="display:none" value="" data-translate="entity.select.select">Select</option>
                </select>
            </div>
            <div class="form-group filled" ng-hide="vm.actionInEdition.alphaStates.length">
                <label class="pull-left">Workproduct</label>
                <select class="form-control" ng-options="datos.name for datos in vm.workProducts track by datos.id" ng-disabled="vm.alpha != null" ng-model="vm.workProduct">
                    <option style="display:none" value="" data-translate="entity.select.select">Select</option>
                </select>
            </div>
            <div class="form-group filled" ng-show="vm.workProduct != null">
                <label>Level of Detail</label>
                <select class="form-control" ng-options="datos.name for datos in vm.workProduct.levelsOfDetails | filter:vm.workProductsFilter track by datos.id" ng-model="vm.levelOfDetail">
                    <option style="display:none" value="" data-translate="entity.select.select">Select</option>
                </select>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-default" type="button" ng-click="vm.cleanModales()"><span data-translate="practiceManagement.clean">Clean</span></button>
            <button type="button" class="btn btn-primary" ng-click="vm.fillAction()"><span data-translate="practiceManagement.add">Add</span></button>
            <div class="row" ng-hide="!vm.actionInEdition.alphaStates.length && !vm.actionInEdition.workProductsLevelofDetail.length">
                <div class="col-md-12">
                    <div class="well white">
                        <div class="table-responsive white">
                            <table class="table table-full table-full-small white">
                                <thead>
                                    <tr>
                                        <th data-translate="practiceManagement.thingsToDo.actionKind">Action Kind</th>
                                        <th>Alpha-State / WorkProduct-Level of detail</th>
                                        <th data-translate="practiceManagement.remove">Delete</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="actionElement in vm.actionInEdition.alphaStates">
                                        <td>{{vm.actionInEdition.idActionKind}}</td>
                                        <td>{{actionElement.description}}</td>
                                        <td><button class="btn btn-link btn-round" ng-click="vm.deleteActionElement($index, 'alpha')"><i class="md md-delete"></i></button></td>
                                    </tr>
                                    <tr ng-repeat="actionElement in vm.actionInEdition.workProductsLevelofDetail">
                                        <td>{{vm.actionInEdition.idActionKind}}</td>
                                        <td>{{actionElement.description}}</td>
                                        <td><button class="btn btn-link btn-round" ng-click="vm.deleteActionElement($index, 'workproduct')"><i class="md md-delete"></i></button></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <button type="button" class="btn btn-primary" ng-click="vm.addAction()">Save</button>
            </div>
        </div>
    </div>
</div>


<div class="modal fade" id="entryDialog" tabindex="-1" role="dialog"
     aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-header">
            <button type="button" class="close" ng-click="vm.cleanModales()" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title" data-translate="practiceManagement.entry">Entry</h4>
        </div>
        <div class="modal-body">
            <div class="form-group filled">
                <label class="pull-left">Alpha</label>
                <select class="form-control" ng-options="datos.name for datos in vm.alphas track by datos.id" ng-model="vm.alpha" ng-disabled="vm.workProduct != null || vm.anotherEntryCriteria != null">
                    <option style="display:none" value="" data-translate="entity.select.select">Select</option>
                </select>
            </div>
            <div class="form-group filled" ng-show="vm.alpha != null">
                <label>Alpha State</label>
                <select class="form-control" ng-options="datos.name for datos in vm.alpha.states | filter:vm.alphaEntryFilter track by datos.id" ng-model="vm.alphaState">
                    <option style="display:none" value="" data-translate="entity.select.select">Select</option>
                </select>
            </div>
            <div class="form-group filled">
                <label class="pull-left">Workproduct</label>
                <select class="form-control" ng-options="datos.name for datos in vm.workProducts track by datos.id" ng-disabled="vm.alpha != null || vm.anotherEntryCriteria != null" ng-model="vm.workProduct">
                    <option style="display:none" value="" data-translate="entity.select.select">Select</option>
                </select>
            </div>
            <div class="form-group filled" ng-show="vm.workProduct != null">
                <label>Level of Detail</label>
                <select class="form-control" ng-options="datos.name for datos in vm.workProduct.levelsOfDetails | filter:vm.workProductsEntryFilter track by datos.id" ng-model="vm.levelOfDetail">
                    <option style="display:none" value="" data-translate="entity.select.select">Select</option>
                </select>
            </div>
            <div class="form-group">
                <label>Another Entry Criteria</label>
                <input type="text" class="form-control" required ng-model="vm.anotherEntryCriteria" ng-disabled="vm.workProduct != null || vm.alpha != null">
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-default" type="button" ng-click="vm.cleanModales()"><span data-translate="practiceManagement.clean">Clean</span></button>
            <button type="button" class="btn btn-primary" ng-click="vm.addEntry()"><span data-translate="practiceManagement.add">Add</span></button>
        </div>
    </div>
</div>


<div class="modal fade" id="completitionDialog" tabindex="-1" role="dialog"
     aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-header">
            <button type="button" class="close" ng-click="vm.cleanModales()" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title"><span data-translate="practiceManagement.thingsToDo.consultCompletition">Completion</span></h4>
        </div>
        <div class="modal-body">
            <div class="form-group filled">
                <label class="pull-left">Alpha</label>
                <select class="form-control" ng-options="datos.name for datos in vm.alphas track by datos.id" ng-model="vm.alphaCompletition" ng-disabled="vm.workProductCompletition != null || vm.anotherEntryCriteriaCompletition != null">
                    <option style="display:none" value="" data-translate="entity.select.select">Select</option>
                </select>
            </div>
            <div class="form-group filled" ng-show="vm.alphaCompletition != null">
                <label>Alpha State</label>
                <select class="form-control" ng-options="datos.name for datos in vm.alphaCompletition.states | filter:vm.alphaCompletitionFilter track by datos.id" ng-model="vm.alphaStateCompletition">
                    <option style="display:none" value="" data-translate="entity.select.select">Select</option>
                </select>
            </div>
            <div class="form-group filled">
                <label class="pull-left">Workproduct</label>
                <select class="form-control" ng-options="datos.name for datos in vm.workProducts track by datos.id" ng-disabled="vm.alphaCompletition != null || vm.anotherEntryCriteriaCompletition != null" ng-model="vm.workProductCompletition">
                    <option style="display:none" value="" data-translate="entity.select.select">Select</option>
                </select>
            </div>
            <div class="form-group filled" ng-show="vm.workProductCompletition != null">
                <label>Level of Detail</label>
                <select class="form-control" ng-options="datos.name for datos in vm.workProductCompletition.levelsOfDetails | filter:vm.workProductsCompletitionFilter track by datos.id" ng-model="vm.levelOfDetailCompletition">
                    <option style="display:none" value="" data-translate="entity.select.select">Select</option>
                </select>
            </div>
            <div class="form-group">
                <label>Another Completion Criteria</label>
                <input type="text" class="form-control" required ng-model="vm.anotherEntryCriteriaCompletition" ng-disabled="vm.workProductCompletition != null || vm.alphaCompletition != null">
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-default" type="button" ng-click="vm.cleanModales()"><span data-translate="practiceManagement.clean">Clean</span></button>
            <button type="button" class="btn btn-primary" ng-click="vm.addCompletition()"><span data-translate="practiceManagement.add">Add</span></button>
        </div>
    </div>
</div>


<div class="modal fade" id="resourceDialog" tabindex="-1" role="dialog"
     aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-header">
            <button type="button" class="close" ng-click="vm.cleanModales()" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title"><span data-translate="practiceManagement.thingsToDo.consultResources">Resources</span></h4>
        </div>
        <div class="modal-body">
            <div class="form-group">
                <label for="textArea" class="pull-left">Content</label>
                <textarea ui-tinymce="vm.tinymceOptions" class="form-control vertical" rows="3" ng-model="vm.descriptionResource" required></textarea>
            </div>
            <div class="form-group filled">
                <label class="pull-left" data-translate="practiceManagement.thingsToDo.type">Type</label>
                <select class="form-control" ng-options="datos.name for datos in vm.resourcesTypes track by datos.id" ng-model="vm.type">
                    <option style="display:none" value="" data-translate="entity.select.select">Select</option>
                </select>
            </div>
            <div class="form-group" ng-show="vm.type.id != 'URL'">
                <label class="control-label" data-translate="practiceManagement.thingsToDo.attachment">Attachment</label>
                <input type="file" base-sixty-four-input ng-model="vm.attachment" style="color: transparent">
            </div>
            <div class="form-group" ng-show="vm.type.id == 'URL'">
                <label class="control-label" data-translate="practiceManagement.thingsToDo.url">URL</label>
                <input type="url" class="form-control" ng-model="vm.url" required>
            </div>
            <div class="form-group" ng-show="vm.attachment && vm.type.id != 'URL'">
                <label class="control-label"><span data-translate="practiceManagement.thingsToDo.file">File</span>: {{vm.attachment.filename}}</label>
                <br/>
                <label class="control-label"><span data-translate="practiceManagement.thingsToDo.size">Size</span>: {{vm.byteSize(vm.attachment.base64)}}</label>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-default" type="button" ng-click="vm.cleanModales()"><span data-translate="practiceManagement.clean">Clean</span></button>
            <button type="button" class="btn btn-primary" ng-click="vm.addResource()"><span data-translate="practiceManagement.add">Add</span></button>
        </div>
    </div>
</div>


<div class="modal fade" id="compositionActivitiesDialog" tabindex="-1" role="dialog"
     aria-labelledby="myModalLabel" >
    <div class="modal-dialog">
        <div class="modal-header">
            <button type="button" class="close" ng-click="vm.cleanModales()" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title"><span data-translate="practiceManagement.thingsToDo.activity">Composition Activities</span></h4>
        </div>
        <div class="modal-body">
			  <go-diagram go-model="vm.model" style="border: solid 1px gray; width:100%; height:400px"></go-diagram> 
			  Selected activity: {{vm.model.selectedNodeData.key}}  <input type="text" ng-model="vm.model.selectedNodeData.name" class="ng-pristine ng-untouched ng-valid">
			  <br>
			  Number of links: {{vm.model.linkDataArray.length}}
        </div>
        <div class="modal-footer">
            <button class="btn btn-default" type="button" ng-click="vm.cleanModales()"><span data-translate="practiceManagement.clean">Clean</span></button>
            <button type="button" class="btn btn-primary" ng-click="vm.addCompositionActivities()"><span data-translate="practiceManagement.save">Save</span></button>
        </div>
    </div>
</div>

 



